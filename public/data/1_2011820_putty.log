=~=~=~=~=~=~=~=~=~=~=~= PuTTY log 2011.08.16 17:23:33 =~=~=~=~=~=~=~=~=~=~=~=
sh -x 
+ echo /rootfs/wb/vte_IMX6-SABREAUTO_d/output/ IMX6-SABREAUTO /rootfs/wb/daily_reports/skywalker
+ PLATFORM=IMX6-SABREAUTO
+ path=/rootfs/wb/daily_reports/skywalker
++ ls /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed -lrt
++ awk '{print $8}'
+ list='/rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed
/rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
/rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed
/rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed'
+ MAXcase=300
+ for i in '$list'
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed
++ sed s/LTP_RUN_ON-//
++ sed s/_log/#/
++ cut -d '#' -f 1
+ runfile_a=IMX6-SABREAUTO_imx6q_SABRA_auto
++ echo IMX6-SABREAUTO_imx6q_SABRA_auto
++ sed s/_/#/
++ cut -d '#' -f 2
+ runfile=imx6q_SABRA_auto
+++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed
++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output
+ totalcase_path=/rootfs/wb/vte_IMX6-SABREAUTO_d/runtest/
++ cat /rootfs/wb/vte_IMX6-SABREAUTO_d/runtest/imx6q_SABRA_auto
++ grep -v '#'
++ wc -l
+ total_case=223
+ '[' 223 -gt 0 ']'
+ MAXcase=223
+ for i in '$list'
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
++ sed s/LTP_RUN_ON-//
++ sed s/_log/#/
++ cut -d '#' -f 1
+ runfile_a=IMX6-SABREAUTO_imx6q_SABRA_auto
++ echo IMX6-SABREAUTO_imx6q_SABRA_auto
++ sed s/_/#/
++ cut -d '#' -f 2
+ runfile=imx6q_SABRA_auto
+++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output
+ totalcase_path=/rootfs/wb/vte_IMX6-SABREAUTO_d/runtest/
++ cat /rootfs/wb/vte_IMX6-SABREAUTO_d/runtest/imx6q_SABRA_auto
++ grep -v '#'
++ wc -l
+ total_case=223
+ '[' 223 -gt 0 ']'
+ MAXcase=223
+ for i in '$list'
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed
++ sed s/LTP_RUN_ON-//
++ sed s/_log/#/
++ cut -d '#' -f 1
+ runfile_a=IMX6-SABREAUTO_imx6q_SABRA_auto
++ echo IMX6-SABREAUTO_imx6q_SABRA_auto
++ sed s/_/#/
++ cut -d '#' -f 2
+ runfile=imx6q_SABRA_auto
+++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed
++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output
+ totalcase_path=/rootfs/wb/vte_IMX6-SABREAUTO_d/runtest/
++ cat /rootfs/wb/vte_IMX6-SABREAUTO_d/runtest/imx6q_SABRA_auto
++ grep -v '#'
++ wc -l
+ total_case=223
+ '[' 223 -gt 0 ']'
+ MAXcase=223
+ for i in '$list'
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed
++ sed s/LTP_RUN_ON-//
++ sed s/_log/#/
++ cut -d '#' -f 1
+ runfile_a=IMX6-SABREAUTO_imx6q_SABRA_auto
++ echo IMX6-SABREAUTO_imx6q_SABRA_auto
++ sed s/_/#/
++ cut -d '#' -f 2
+ runfile=imx6q_SABRA_auto
+++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed
++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output
+ totalcase_path=/rootfs/wb/vte_IMX6-SABREAUTO_d/runtest/
++ cat /rootfs/wb/vte_IMX6-SABREAUTO_d/runtest/imx6q_SABRA_auto
++ grep -v '#'
++ wc -l
+ total_case=223
+ '[' 223 -gt 0 ']'
+ MAXcase=223
+ create_file '<?xml version="1.0" encoding='\''UTF-8'\''?>'
+ echo '<?xml' 'version="1.0"' 'encoding='\''UTF-8'\''?>'
+ tofile '<?xml-stylesheet type="text/xsl" href="fails.xsl"?>'
+ echo '<?xml-stylesheet' 'type="text/xsl"' 'href="fails.xsl"?>'
+ tofile '<LOG>'
+ echo '<LOG>'
+ tofile '<title>'
+ echo '<title>'
+ tofile IMX6-SABREAUTO
+ echo IMX6-SABREAUTO
+ tofile '</title>'
+ echo '</title>'
+ tofile '<total>'
+ echo '<total>'
++ ls /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
++ wc -l
+ tofile 4
+ echo 4
+ tofile '</total>'
+ echo '</total>'
+ tofile '<maxcase>'
+ echo '<maxcase>'
+ tofile 223
+ echo 223
+ tofile '</maxcase>'
+ echo '</maxcase>'
+ for i in '$list'
++ ls -lt /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed
++ awk '{print $6}'
+ idate=2011-08-05
++ echo 2011-08-05
++ sed s/-//g
+ idate=20110805
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed
++ sed s/LTP_RUN_ON-//
++ sed s/_log/#/
++ cut -d '#' -f 1
+ runfile_a=IMX6-SABREAUTO_imx6q_SABRA_auto
++ echo IMX6-SABREAUTO_imx6q_SABRA_auto
++ sed s/_/#/
++ cut -d '#' -f 2
+ runfile=imx6q_SABRA_auto
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed
++ sed s/LTP_RUN_ON-//
++ sed s/_log/#/
++ cut -d '#' -f 2
++ sed s/failed/txt/
+ mac=_00_04_9f_01_03_6f.txt
+++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed
++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output
+ resultpath=/rootfs/wb/vte_IMX6-SABREAUTO_d/results/
++ ls /rootfs/wb/vte_IMX6-SABREAUTO_d/results/
++ grep imx6q_SABRA_auto
++ grep _00_04_9f_01_03_6f.txt
++ grep 20110805
+ resultfile=
+ '[' '!' -z '' ']'
+ total_case=223
+ tofile '<fail_count>'
+ echo '<fail_count>'
+ tofile '<count>'
+ echo '<count>'
++ cat /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed
++ wc -l
+ tofile 36
+ echo 36
+ tofile '</count>'
+ echo '</count>'
+ tofile '<flink>'
+ echo '<flink>'
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed
+ tofile http://shlx12.ap.freescale.net/test_reports/IMX6-SABREAUTO_output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed
+ echo http://shlx12.ap.freescale.net/test_reports/IMX6-SABREAUTO_output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed
+ tofile '</flink>'
+ echo '</flink>'
+ tofile '<fdate>'
+ echo '<fdate>'
+ tofile 20110805
+ echo 20110805
+ tofile '</fdate>'
+ echo '</fdate>'
+ tofile '<total_cases>'
+ echo '<total_cases>'
+ tofile 223
+ echo 223
+ tofile '</total_cases>'
+ echo '</total_cases>'
+ tofile '<runfile>'
+ echo '<runfile>'
+ tofile http://shlx12.ap.freescale.net/test_reports/runtest/imx6q_SABRA_auto
+ echo http://shlx12.ap.freescale.net/test_reports/runtest/imx6q_SABRA_auto
+ tofile '</runfile>'
+ echo '</runfile>'
+ tofile '</fail_count>'
+ echo '</fail_count>'
+ for i in '$list'
++ ls -lt /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
++ awk '{print $6}'
+ idate=2011-08-05
++ echo 2011-08-05
++ sed s/-//g
+ idate=20110805
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
++ sed s/LTP_RUN_ON-//
++ sed s/_log/#/
++ cut -d '#' -f 1
+ runfile_a=IMX6-SABREAUTO_imx6q_SABRA_auto
++ echo IMX6-SABREAUTO_imx6q_SABRA_auto
++ sed s/_/#/
++ cut -d '#' -f 2
+ runfile=imx6q_SABRA_auto
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
++ sed s/LTP_RUN_ON-//
++ sed s/_log/#/
++ cut -d '#' -f 2
++ sed s/failed/txt/
+ mac=_00_04_9f_0a_01_63.txt
+++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output
+ resultpath=/rootfs/wb/vte_IMX6-SABREAUTO_d/results/
++ ls /rootfs/wb/vte_IMX6-SABREAUTO_d/results/
++ grep imx6q_SABRA_auto
++ grep _00_04_9f_0a_01_63.txt
++ grep 20110805
+ resultfile=
+ '[' '!' -z '' ']'
+ total_case=223
+ tofile '<fail_count>'
+ echo '<fail_count>'
+ tofile '<count>'
+ echo '<count>'
++ cat /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
++ wc -l
+ tofile 38
+ echo 38
+ tofile '</count>'
+ echo '</count>'
+ tofile '<flink>'
+ echo '<flink>'
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
+ tofile http://shlx12.ap.freescale.net/test_reports/IMX6-SABREAUTO_output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
+ echo http://shlx12.ap.freescale.net/test_reports/IMX6-SABREAUTO_output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
+ tofile '</flink>'
+ echo '</flink>'
+ tofile '<fdate>'
+ echo '<fdate>'
+ tofile 20110805
+ echo 20110805
+ tofile '</fdate>'
+ echo '</fdate>'
+ tofile '<total_cases>'
+ echo '<total_cases>'
+ tofile 223
+ echo 223
+ tofile '</total_cases>'
+ echo '</total_cases>'
+ tofile '<runfile>'
+ echo '<runfile>'
+ tofile http://shlx12.ap.freescale.net/test_reports/runtest/imx6q_SABRA_auto
+ echo http://shlx12.ap.freescale.net/test_reports/runtest/imx6q_SABRA_auto
+ tofile '</runfile>'
+ echo '</runfile>'
+ tofile '</fail_count>'
+ echo '</fail_count>'
+ for i in '$list'
++ ls -lt /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed
++ awk '{print $6}'
+ idate=2011-08-12
++ echo 2011-08-12
++ sed s/-//g
+ idate=20110812
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed
++ sed s/LTP_RUN_ON-//
++ sed s/_log/#/
++ cut -d '#' -f 1
+ runfile_a=IMX6-SABREAUTO_imx6q_SABRA_auto
++ echo IMX6-SABREAUTO_imx6q_SABRA_auto
++ sed s/_/#/
++ cut -d '#' -f 2
+ runfile=imx6q_SABRA_auto
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed
++ sed s/LTP_RUN_ON-//
++ sed s/_log/#/
++ cut -d '#' -f 2
++ sed s/failed/txt/
+ mac=_00_04_9f_01_03_63_08122011.txt
+++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed
++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output
+ resultpath=/rootfs/wb/vte_IMX6-SABREAUTO_d/results/
++ ls /rootfs/wb/vte_IMX6-SABREAUTO_d/results/
++ grep imx6q_SABRA_auto
++ grep _00_04_9f_01_03_63_08122011.txt
++ grep 20110812
+ resultfile=
+ '[' '!' -z '' ']'
+ total_case=223
+ tofile '<fail_count>'
+ echo '<fail_count>'
+ tofile '<count>'
+ echo '<count>'
++ cat /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed
++ wc -l
+ tofile 20
+ echo 20
+ tofile '</count>'
+ echo '</count>'
+ tofile '<flink>'
+ echo '<flink>'
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed
+ tofile http://shlx12.ap.freescale.net/test_reports/IMX6-SABREAUTO_output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed
+ echo http://shlx12.ap.freescale.net/test_reports/IMX6-SABREAUTO_output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed
+ tofile '</flink>'
+ echo '</flink>'
+ tofile '<fdate>'
+ echo '<fdate>'
+ tofile 20110812
+ echo 20110812
+ tofile '</fdate>'
+ echo '</fdate>'
+ tofile '<total_cases>'
+ echo '<total_cases>'
+ tofile 223
+ echo 223
+ tofile '</total_cases>'
+ echo '</total_cases>'
+ tofile '<runfile>'
+ echo '<runfile>'
+ tofile http://shlx12.ap.freescale.net/test_reports/runtest/imx6q_SABRA_auto
+ echo http://shlx12.ap.freescale.net/test_reports/runtest/imx6q_SABRA_auto
+ tofile '</runfile>'
+ echo '</runfile>'
+ tofile '</fail_count>'
+ echo '</fail_count>'
+ for i in '$list'
++ ls -lt /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed
++ awk '{print $6}'
+ idate=2011-08-16
++ echo 2011-08-16
++ sed s/-//g
+ idate=20110816
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed
++ sed s/LTP_RUN_ON-//
++ sed s/_log/#/
++ cut -d '#' -f 1
+ runfile_a=IMX6-SABREAUTO_imx6q_SABRA_auto
++ echo IMX6-SABREAUTO_imx6q_SABRA_auto
++ sed s/_/#/
++ cut -d '#' -f 2
+ runfile=imx6q_SABRA_auto
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed
++ sed s/LTP_RUN_ON-//
++ sed s/_log/#/
++ cut -d '#' -f 2
++ sed s/failed/txt/
+ mac=_00_04_9f_01_03_63_08162011.txt
+++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed
++ dirname /rootfs/wb/vte_IMX6-SABREAUTO_d/output
+ resultpath=/rootfs/wb/vte_IMX6-SABREAUTO_d/results/
++ ls /rootfs/wb/vte_IMX6-SABREAUTO_d/results/
++ grep imx6q_SABRA_auto
++ grep _00_04_9f_01_03_63_08162011.txt
++ grep 20110816
+ resultfile=
+ '[' '!' -z '' ']'
+ total_case=223
+ tofile '<fail_count>'
+ echo '<fail_count>'
+ tofile '<count>'
+ echo '<count>'
++ cat /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed
++ wc -l
+ tofile 79
+ echo 79
+ tofile '</count>'
+ echo '</count>'
+ tofile '<flink>'
+ echo '<flink>'
++ basename /rootfs/wb/vte_IMX6-SABREAUTO_d/output//LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed
+ tofile http://shlx12.ap.freescale.net/test_reports/IMX6-SABREAUTO_output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed
+ echo http://shlx12.ap.freescale.net/test_reports/IMX6-SABREAUTO_output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed
+ tofile '</flink>'
+ echo '</flink>'
+ tofile '<fdate>'
+ echo '<fdate>'
+ tofile 20110816
+ echo 20110816
+ tofile '</fdate>'
+ echo '</fdate>'
+ tofile '<total_cases>'
+ echo '<total_cases>'
+ tofile 223
+ echo 223
+ tofile '</total_cases>'
+ echo '</total_cases>'
+ tofile '<runfile>'
+ echo '<runfile>'
+ tofile http://shlx12.ap.freescale.net/test_reports/runtest/imx6q_SABRA_auto
+ echo http://shlx12.ap.freescale.net/test_reports/runtest/imx6q_SABRA_auto
+ tofile '</runfile>'
+ echo '</runfile>'
+ tofile '</fail_count>'
+ echo '</fail_count>'
+ tofile '</LOG>'
+ echo '</LOG>'
b20222@shlx12:/rootfs/wb$ sudo sh -x ./gen_fail_log.sh /rootfs/wb/vte_IMX6-SABREAUTO_d/output/ IMX6-SABREAUTO /rootfs/wb/daily_reports/skywalkerlsvi gen_./gen_html.sh exitvi .log.txt 
".log.txt" ".log.txt" 8L, 400CIMX53LOCO
IMX53LOCO
/rootfs/wb/vte_IMX53LOCO_d/output/ IMX53LOCO /rootfs/wb/daily_reports/skywalker
IMX6-SABREAUTO
IMX6-SABREAUTO
/rootfs/wb/vte_IMX6-SABREAUTO_d/output/ IMX6-SABREAUTO /rootfs/wb/daily_reports/skywalker
/rootfs/wb/vte_IMX6-SABREAUTO_d/output/ IMX6-SABREAUTO /rootfs/wb/daily_reports/skywalker
/rootfs/wb/vte_IMX6-SABREAUTO_d/output/ IMX6-SABREAUTO /rootfs/wb/daily_reports/skywalker
~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            1,1           All:q:qb20222@shlx12:/rootfs/wb$ vi .log.txt sudo sh -x ./gen_fail_log.sh /rootfs/wb/vte_IMX6-SABREAUTO_d/output/ IMX6-SABREAUTO /rootfs/wb/daily_reports/skywalkervi .log.txt  ./gem_hn_html.sh IMX6-SABREAUTO
output to /rootfs/wb/daily_reports/skywalker/vte_IMX6-SABREAUTO_d/2011/WW33/16//IMX6-SABREAUTO_AUTO_imx6q_SABRA_auto_00_04_9f_01_03_63_0.html
output to /rootfs/wb/daily_reports/skywalker/vte_IMX6-SABREAUTO_d/2011/WW33/16//IMX6-SABREAUTO_AUTO_imx6q_SABRA_auto_00_04_9f_01_03_63_1.html
output to /rootfs/wb/daily_reports/skywalker/vte_IMX6-SABREAUTO_d/2011/WW33/16//IMX6-SABREAUTO_AUTO_imx6q_SABRA_auto_00_04_9f_01_03_63_2.html
output to /rootfs/wb/daily_reports/skywalker/vte_IMX6-SABREAUTO_d/2011/WW33/16//IMX6-SABREAUTO_AUTO_imx6q_SABRA_auto_00_04_9f_01_03_63_3.html
output to /rootfs/wb/daily_reports/skywalker/vte_IMX6-SABREAUTO_d/2011/WW33/16//IMX6-SABREAUTO_AUTO_imx6q_SABRA_auto_00_04_9f_01_03_63_4.html
output to /rootfs/wb/daily_reports/skywalker/vte_IMX6-SABREAUTO_d/2011/WW33/16//IMX6-SABREAUTO_AUTO_imx6q_SABRA_auto_00_04_9f_01_03_63_5.html
output to /rootfs/wb/daily_reports/skywalker/vte_IMX6-SABREAUTO_d/2011/WW33/16//IMX6-SABREAUTO_AUTO_imx6q_SABRA_auto_00_04_9f_01_03_63_6.html
output to /rootfs/wb/daily_reports/skywalker/vte_IMX6-SABREAUTO_d/2011/WW33/16//IMX6-SABREAUTO_AUTO_imx6q_SABRA_auto_00_04_9f_01_03_63_7.html
output to /rootfs/wb/daily_reports/skywalker/vte_IMX6-SABREAUTO_d/2011/WW33/16//IMX6-SABREAUTO_AUTO_imx6q_SABRA_auto_00_04_9f_01_03_63_8.html
output to /rootfs/wb/daily_reports/skywalker/vte_IMX6-SABREAUTO_d/2011/WW33/16//IMX6-SABREAUTO_AUTO_imx6q_SABRA_auto_00_04_9f_01_03_63_9.html
b20222@shlx12:/rootfs/wb$ ./gen_html.sh IMX6-SABREAUTOvi .log.txt 
".log.txt" ".log.txt" 10L, 505CIMX53LOCO
IMX53LOCO
/rootfs/wb/vte_IMX53LOCO_d/output/ IMX53LOCO /rootfs/wb/daily_reports/skywalker
IMX6-SABREAUTO
IMX6-SABREAUTO
/rootfs/wb/vte_IMX6-SABREAUTO_d/output/ IMX6-SABREAUTO /rootfs/wb/daily_reports/skywalker
/rootfs/wb/vte_IMX6-SABREAUTO_d/output/ IMX6-SABREAUTO /rootfs/wb/daily_reports/skywalker
/rootfs/wb/vte_IMX6-SABREAUTO_d/output/ IMX6-SABREAUTO /rootfs/wb/daily_reports/skywalker
IMX6-SABREAUTO
/rootfs/wb/vte_IMX6-SABREAUTO_d/output/ IMX6-SABREAUTO /rootfs/wb/daily_reports/skywalker
~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            ~                                                                                                                                                            1,1           All2,1           All3,1           All4,1           All5,1           All6,1           All7,1           All8,1           All9,1           All9,2           All9,3           All9,4           All9,5           All9,6           All9,7           All9,8           All9,9           All9,10          All9,11          All9,12          All10,12         All10,13         All10,14         All10,15         All10,16         All10,17         All10,18         All10,19         All10,20         All10,21         All10,22         All10,23         All10,24         All10,25         All10,26         All10,27         All10,28         All10,29         All10,30         All10,31         All10,32         All10,33         All10,34         All10,35         All10,36         All10,37         All10,38         All10,39         All10,40         All10,41         All10,42         All10,43         All10,44         All10,45         All10,46         All10,47         All10,48         All10,49         All10,50         All10,51         All10,52         All10,53         All10,54         All10,55         All10,56         All10,57         All10,58         All10,59         All10,60         All10,61         All10,62         All10,63         All10,64         All10,65         All10,66         All10,67         All10,68         All10,69         All10,70         All10,71         All10,72         All10,73         All10,74         All10,75         All10,76         All10,77         All10,78         All10,79         All10,80         All10,81         All10,82         All10,83         All10,84         All10,85         All10,86         All:q:qb20222@shlx12:/rootfs/wb$ vi gen_fail_log.sh 
"gen_fail_log.sh" "gen_fail_log.sh" [readonly] 81L, 2131C##/bin/sh
# ./gen_fail_log.sh /home/smb/nfs/wb/vte_IMX50-RDP3_d/output IMX50-RDP3 .
#<output fail log path> <platfrom name> <output path>
echo $* >> /rootfs/wb/.log.txt

PLATFORM=$2

path=$3

list=$(ls ${1}/*.failed -lrt | awk '{print $8}')

MAXcase=300

tofile()
{
 echo $1 >> ${path}/${PLATFORM}_failed_status.xml
}

create_file()
{
echo $1 > ${path}/${PLATFORM}_failed_status.xml
}
for i in $list
do
runfile_a=$(basename $i | sed 's/LTP_RUN_ON-//' | sed 's/_log/#/' | cut -d '#' -f 1)
runfile=$(echo $runfile_a | sed 's/_/#/' | cut -d '#' -f 2)
totalcase_path=$(dirname $(dirname $i))/runtest/
total_case=$(cat ${totalcase_path}${runfile} | grep -v '#' | wc -l)
if [ $total_case -gt 0  ]; then
MAXcase=$total_case
fi
done

create_file "<?xml version=\"1.0\" encoding='UTF-8'?>"
tofile "<?xml-stylesheet type=\"text/xsl\" href=\"fails.xsl\"?>"
tofile "<LOG>"
tofile "<title>"
tofile "$2"
tofile "</title>"
tofile "<total>"
tofile $(ls ${1}/*.failed | wc -l)
tofile "</total>"
tofile "<maxcase>"1,1           Top2,1           Top3,1           Top4,1           Top5,0-1         Top6,1           Top7,0-1         Top8,1           Top9,0-1         Top10,1          Top11,0-1        Top12,1          Top13,0-1        Top14,1          Top
{

}15,1          Top{

}16,1          Top{

}17,1          Top{

}18,0-1        Top19,1          Top
{

}20,1          Top{

}21,1          Top{

}22,1          Top{

}23,1          Top24,1          Top25,1          Top26,1          Top27,1          Top28,1          Top29,1          Top30,1          Top31,1          Top32,1          Top33,0-1        Top34,1          Top35,1          Top36,1          Top37,1          Top38,1          Top39,1          Top40,1          Top41,1          Top42,1          Top43,1          Top
tofile $MAXcase44,1           2%
tofile "</maxcase>"45,1           5%
46,0-1         7%
for i in $list47,1          10%
do48,1          13%
#get date49,1          15%
idate=$(ls -lt $i | awk '{print $6}')50,1          18%
idate=$(echo $idate| sed 's/-//g')51,1          21%
runfile_a=$(basename $i | sed 's/LTP_RUN_ON-//' | sed 's/_log/#/' | cut -d '#' -f 1)52,1          23%
runfile=$(echo $runfile_a | sed 's/_/#/' | cut -d '#' -f 2)53,1          26%
mac=$(basename $i | sed 's/LTP_RUN_ON-//' | sed 's/_log/#/' | cut -d '#' -f 2 | sed 's/failed/txt/')54,1          28%
resultpath=$(dirname $(dirname $i))/results/55,1          31%
resultfile=$(ls $resultpath | grep $runfile | grep $mac | grep $idate)56,1          34%
if [ ! -z "$resultfile" ]; then57,1          36%
total_case=$(cat ${resultpath}${resultfile} | grep "Tatal Tests:" | awk '{print $3}')58,1          39%
else59,1          42%
total_case=$MAXcase60,1          44%
fi61,1          47%
tofile "<fail_count>"62,1          50%
tofile "<count>"63,1          52%
tofile  $(cat $i | wc -l)64,1          55%
tofile  "</count>"65,1          57%
tofile  "<flink>"66,1          60%
tofile  "http://shlx12.ap.freescale.net/test_reports/${2}_output/$(basename $i)"67,1          63%
tofile  "</flink>"68,1          65%
tofile  "<fdate>"69,1          68%
tofile  $idate70,1          71%
tofile  "</fdate>"71,1          73%
tofile  "<total_cases>"72,1          76%
tofile  ${total_case}73,1          78%
tofile  "</total_cases>"74,1          81%
tofile  "<runfile>"75,1          84%
tofile  "http://shlx12.ap.freescale.net/test_reports/runtest/${runfile}"76,1          86%
tofile  "</runfile>"77,1          89%
tofile  "</fail_count>"78,1          92%
done79,1          94%
tofile "</LOG>"80,1          97%
81,0-1        Bot80,1          Bot79,1          Bot78,1          Bot77,1          Bot76,1          Bot76,2          Bot76,3          Bot76,4          Bot76,5          Bot76,6          Bot76,7          Bot76,8          Bot76,9          Bot76,10         Bot76,11         Bot76,12         Bot76,13         Bot76,14         Bot76,15         Bot76,16         Bot76,17         Bot76,18         Bot76,19         Bot76,20         Bot76,21         Bot76,22         Bot76,23         Bot76,24         Bot76,25         Bot76,26         Bot76,27         Bot76,28         Bot76,29         Bot76,30         Bot76,31         Bot76,32         Bot76,33         Bot76,34         Bot76,35         Bot76,36         Bot76,37         Bot76,38         Bot76,39         Bot76,40         Bot76,41         Bot76,42         Bot76,43         Bot76,44         Bot76,45         Bot76,46         Bot76,47         Bot76,48         Bot76,49         Bot76,50         Bot76,51         Bot76,52         Bot76,53         Bot76,54         Bot76,55         Bot76,56         Bot76,57         Bot76,58         Bot76,59         Bot76,60         Bot76,61         Bot76,62         Bot${}76,63         Bot{}76,64         Bot76,65         Bot76,66         Bot?\<runfile\>75,11         Bot?\<runfile\>56,37         Bot56,38         Bot?\<runfile\>53,1          Bot53,2          Bot53,3          Bot53,4          Bot53,5          Bot53,6          Bot53,7          Bot53,8          Bot53,9          Bot$()53,10         Bot()53,11         Bot53,12         Bot53,13         Bot53,14         Bot53,15         Bot53,16         Bot53,17         Bot53,18         Bot53,19         Bot53,20         Bot53,21         Bot53,22         Bot53,23         Bot52,23         Bot51,23         Bot50,23         Bot50,22         Bot50,21         Bot50,20         Bot50,19         Bot50,18         Bot50,17         Bot50,16         Bot50,17         Bot49,9          Bot48,2          Bot47,14         Bot47,13         Bot48,2          Bot49,9          Bot50,13         Bot51,13         Bot52,13         Bot52,14         Bot52,15         Bot52,16         Bot52,17         Bot52,18         Bot52,19         Bot52,20         Bot52,21         Bot52,22         Bot52,23         Bot52,24         Bot52,25         Bot52,26         Bot52,27         Bot52,28         Bot52,29         Bot52,30         Bot52,31         Bot52,32         Bot52,33         Bot52,34         Bot52,35         Bot52,36         Bot52,37         Bot52,36         Bot52,35         Bot52,34         Bot52,33         Bot52,32         Bot52,31         Bot52,30         Bot52,29         Bot52,28         Bot52,27         Bot52,26         Bot52,25         Bot52,24         Bot52,23         Bot:q:qb20222@shlx12:/rootfs/wb$ ls gen_fail_log.sh vi gen_fail_log.sh 
"gen_fail_log.sh" "gen_fail_log.sh" [readonly] 81L, 2131C##/bin/sh
# ./gen_fail_log.sh /home/smb/nfs/wb/vte_IMX50-RDP3_d/output IMX50-RDP3 .
#<output fail log path> <platfrom name> <output path>
echo $* >> /rootfs/wb/.log.txt

PLATFORM=$2

path=$3

list=$(ls ${1}/*.failed -lrt | awk '{print $8}')

MAXcase=300

tofile()
{
 echo $1 >> ${path}/${PLATFORM}_failed_status.xml
}

create_file()
{
echo $1 > ${path}/${PLATFORM}_failed_status.xml
}
for i in $list
do
runfile_a=$(basename $i | sed 's/LTP_RUN_ON-//' | sed 's/_log/#/' | cut -d '#' -f 1)
runfile=$(echo $runfile_a | sed 's/_/#/' | cut -d '#' -f 2)
totalcase_path=$(dirname $(dirname $i))/runtest/
total_case=$(cat ${totalcase_path}${runfile} | grep -v '#' | wc -l)
if [ $total_case -gt 0  ]; then
MAXcase=$total_case
fi
done

create_file "<?xml version=\"1.0\" encoding='UTF-8'?>"
tofile "<?xml-stylesheet type=\"text/xsl\" href=\"fails.xsl\"?>"
tofile "<LOG>"
tofile "<title>"
tofile "$2"
tofile "</title>"
tofile "<total>"
tofile $(ls ${1}/*.failed | wc -l)
tofile "</total>"
tofile "<maxcase>"1,1           Top2,1           Top3,1           Top4,1           Top5,0-1         Top6,1           Top7,0-1         Top8,1           Top9,0-1         Top10,1          Top11,0-1        Top12,1          Top13,0-1        Top14,1          Top
{

}15,1          Top{

}16,1          Top{

}17,1          Top{

}18,0-1        Top19,1          Top
{

}20,1          Top{

}21,1          Top{

}22,1          Top{

}23,1          Top24,1          Top25,1          Top26,1          Top27,1          Top28,1          Top29,1          Top30,1          Top31,1          Top32,1          Top33,0-1        Top34,1          Top35,1          Top36,1          Top37,1          Top38,1          Top39,1          Top40,1          Top41,1          Top42,1          Top43,1          Top
tofile $MAXcase44,1           2%
tofile "</maxcase>"45,1           5%44,1           5%43,1           5%42,1           5%41,1           5%40,1           5%39,1           5%38,1           5%37,1           5%36,1           5%35,1           5%34,1           5%33,0-1         5%32,1           5%31,1           5%30,1           5%29,1           5%28,1           5%27,1           5%26,1           5%25,1           5%24,1           5%25,1           5%26,1           5%27,1           5%28,1           5%29,1           5%30,1           5%31,1           5%32,1           5%33,0-1         5%34,1           5%35,1           5%36,1           5%37,1           5%38,1           5%39,1           5%40,1           5%41,1           5%42,1           5%43,1           5%44,1           5%45,1           5%
46,0-1         7%
for i in $list47,1          10%
do48,1          13%47,1          13%46,0-1        13%45,1          13%44,1          13%43,1          13%42,1          13%41,1          13%40,1          13%39,1          13%38,1          13%37,1          13%36,1          13%35,1          13%34,1          13%33,0-1        13%32,1          13%31,1          13%30,1          13%29,1          13%28,1          13%27,1          13%26,1          13%25,1          13%24,1          13%23,1          13%{

}22,1          13%{

}21,1          13%21,2          13%21,3          13%21,4          13%21,5          13%21,6          13%21,7          13%21,8          13%21,9          13%21,10         13%21,11         13%${path}21,12         13%{path}21,13         13%21,14         13%21,15         13%21,16         13%{path}21,17         13%{path}21,18         13%21,19         13%${}21,20         13%{}21,21         13%21,22         13%21,23         13%21,24         13%21,25         13%21,26         13%21,27         13%21,28         13%{}21,29         13%{{}
}22,1          13%{

}23,14         13%24,2          13%25,29         13%26,29         13%25,29         13%25,30         13%25,31         13%25,32         13%25,33         13%25,34         13%25,35         13%25,36         13%25,37         13%25,38         13%25,39         13%25,40         13%25,41         13%25,42         13%25,43         13%25,44         13%25,45         13%25,46         13%25,47         13%25,48         13%25,49         13%25,50         13%25,51         13%25,52         13%25,53         13%25,54         13%25,55         13%25,56         13%25,57         13%25,58         13%25,59         13%25,60         13%25,61         13%25,62         13%25,63         13%25,64         13%25,65         13%25,66         13%25,67         13%25,68         13%25,69         13%25,70         13%25,71         13%25,72         13%25,73         13%25,74         13%25,75         13%25,76         13%25,77         13%25,78         13%25,79         13%25,80         13%25,81         13%25,80         13%25,79         13%25,78         13%25,77         13%25,76         13%25,75         13%25,74         13%25,73         13%25,72         13%25,71         13%25,70         13%25,69         13%25,68         13%25,67         13%25,66         13%25,65         13%25,64         13%25,63         13%25,62         13%25,61         13%25,60         13%25,59         13%25,58         13%25,57         13%25,56         13%25,55         13%25,54         13%25,53         13%25,52         13%25,51         13%25,50         13%25,49         13%25,48         13%25,47         13%25,46         13%25,45         13%25,44         13%25,43         13%25,42         13%25,41         13%25,40         13%25,39         13%25,38         13%25,37         13%25,36         13%25,35         13%25,34         13%25,33         13%25,32         13%25,31         13%25,30         13%25,29         13%25,28         13%25,27         13%25,26         13%25,25         13%25,24         13%25,23         13%25,22         13%25,21         13%25,20         13%25,19         13%25,18         13%25,17         13%25,16         13%25,15         13%25,14         13%25,13         13%25,14         13%25,15         13%25,16         13%25,17         13%25,18         13%25,19         13%25,20         13%25,21         13%25,22         13%25,23         13%24,2          13%23,14         13%{

}22,1          13%{

}21,23         13%{

}20,1          13%()
{

}19,13         13%()18,0-1        13%{

}17,1          13%{

}16,23         13%{

}15,1          13%()
{

}14,8          13%()13,0-1        13%12,11         13%11,0-1        13%10,23         13%9,0-1         13%8,7           13%7,0-1         13%6,11          13%5,0-1         10%echo $* >> /rootfs/wb/.log.txt4,23           7%#<output fail log path> <platfrom name> <output path>3,23           5%# ./gen_fail_log.sh /home/smb/nfs/wb/vte_IMX50-RDP3_d/output IMX50-RDP3 .2,23           2%##/bin/sh1,9           Top2,23          Top3,23          Top4,23          Top5,0-1         Top6,11          Top7,0-1         Top8,7           Top9,0-1         Top10,23         Top11,0-1        Top12,11         Top13,0-1        Top()14,8          Top()
{

}15,1          Top{

}16,23         Top{

}17,1          Top{

}18,0-1        Top()19,13         Top()
{

}20,1          Top{

}21,23         Top{

}22,1          Top{

}23,14         Top{

}22,1          Top{

}21,23         Top{

}20,1          Top()
{

}19,13         Top()18,0-1        Top{

}17,1          Top{

}16,23         Top{

}15,1          Top()
{

}14,8          Top()13,0-1        Top12,11         Top11,0-1        Top10,23         Top9,0-1         Top8,7           Top9,0-1         Top10,23         Top10,24         Top10,25         Top10,26         Top10,27         Top10,28         Top10,29         Top10,30         Top10,31         Top10,32         Top10,33         Top:q:qb20222@shlx12:/rootfs/wb$ ls ${1}/*.failed -lrtvte _mx611
vte_mx61/   vte_mx61_d/ 
b20222@shlx12:/rootfs/wb$ ls vte_mx61 /*.failed -lrt_dIMX61-SABREAUTO_d//output
-rwxrwxrwx 1 root root 2010 2011-08-05 11:41 vte_IMX6-SABREAUTO_d/output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed
-rwxrwxrwx 1 root root 2279 2011-08-05 17:26 vte_IMX6-SABREAUTO_d/output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
-rwxrwxrwx 1 root root 1216 2011-08-12 21:45 vte_IMX6-SABREAUTO_d/output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed
-rwxrwxrwx 1 root root 4572 2011-08-16 14:13 vte_IMX6-SABREAUTO_d/output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed
b20222@shlx12:/rootfs/wb$ vi gen
gen_fail_log.sh  gen_html.sh      gen-html.sh      gen_report.php   
b20222@shlx12:/rootfs/wb$ vi gen_fail_log.sh 
"gen_fail_log.sh" "gen_fail_log.sh" [readonly] 81L, 2131C##/bin/sh
# ./gen_fail_log.sh /home/smb/nfs/wb/vte_IMX50-RDP3_d/output IMX50-RDP3 .
#<output fail log path> <platfrom name> <output path>
echo $* >> /rootfs/wb/.log.txt

PLATFORM=$2

path=$3

list=$(ls ${1}/*.failed -lrt | awk '{print $8}')

MAXcase=300

tofile()
{
 echo $1 >> ${path}/${PLATFORM}_failed_status.xml
}

create_file()
{
echo $1 > ${path}/${PLATFORM}_failed_status.xml
}
for i in $list
do
runfile_a=$(basename $i | sed 's/LTP_RUN_ON-//' | sed 's/_log/#/' | cut -d '#' -f 1)
runfile=$(echo $runfile_a | sed 's/_/#/' | cut -d '#' -f 2)
totalcase_path=$(dirname $(dirname $i))/runtest/
total_case=$(cat ${totalcase_path}${runfile} | grep -v '#' | wc -l)
if [ $total_case -gt 0  ]; then
MAXcase=$total_case
fi
done

create_file "<?xml version=\"1.0\" encoding='UTF-8'?>"
tofile "<?xml-stylesheet type=\"text/xsl\" href=\"fails.xsl\"?>"
tofile "<LOG>"
tofile "<title>"
tofile "$2"
tofile "</title>"
tofile "<total>"
tofile $(ls ${1}/*.failed | wc -l)
tofile "</total>"
tofile "<maxcase>"1,1           Top2,1           Top3,1           Top4,1           Top5,0-1         Top6,1           Top7,0-1         Top8,1           Top9,0-1         Top10,1          Top11,0-1        Top12,1          Top13,0-1        Top14,1          Top
{

}15,1          Top{

}16,1          Top{

}17,1          Top{

}18,0-1        Top19,1          Top
{

}20,1          Top{

}21,1          Top{

}22,1          Top{

}23,1          Top24,1          Top25,1          Top26,1          Top27,1          Top26,1          Top25,1          Top24,1          Top23,1          Top{

}22,1          Top{

}21,1          Top{

}22,1          Top{

}23,1          Top24,1          Top25,1          Top25,2          Top25,3          Top25,4          Top25,5          Top25,6          Top25,7          Top25,8          Top25,9          Top25,10         Top25,11         Top$()25,12         Top()25,13         Top25,14         Top25,15         Top25,16         Top25,17         Top25,18         Top25,19         Top25,20         Top25,21         Top25,22         Top25,23         Top24,2          Top23,14         Top{

}22,1          Top{

}21,23         Top{

}20,1          Top()
{

}19,13         Top()18,0-1        Top{

}17,1          Top{

}16,23         Top{

}15,1          Top()
{

}14,8          Top()13,0-1        Top12,11         Top11,0-1        Top10,23         Top9,0-1         Top8,7           Top7,0-1         Top8,7           Top9,0-1         Top10,23         Top10,24         Top10,25         Top10,26         Top10,27         Top10,28         Top10,29         Top10,30         Top10,31         Top10,32         Top10,33         Top10,34         Top10,35         Top10,36         Top'{}10,37         Top{}10,38         Top10,39         Top10,40         Top10,41         Top10,42         Top10,43         Top:q:qb20222@shlx12:/rootfs/wb$ vi gen_fail_log.sh ls vte_IMX6-SABREAUTO_d/output/*.failed -lrt | tailtail
-rwxrwxrwx 1 root root 2010 2011-08-05 11:41 vte_IMX6-SABREAUTO_d/output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed
-rwxrwxrwx 1 root root 2279 2011-08-05 17:26 vte_IMX6-SABREAUTO_d/output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed
-rwxrwxrwx 1 root root 1216 2011-08-12 21:45 vte_IMX6-SABREAUTO_d/output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed
-rwxrwxrwx 1 root root 4572 2011-08-16 14:13 vte_IMX6-SABREAUTO_d/output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed
b20222@shlx12:/rootfs/wb$ ls vte_IMX6-SABREAUTO_d/output/*.failed -lrt | tail wc -l
4
b20222@shlx12:/rootfs/wb$ ls vte_IMX6-SABREAUTO_d/output/*.failed -lrt | wc -llins=$()
b20222@shlx12:/rootfs/wb$ echo lins
lins
b20222@shlx12:/rootfs/wb$ echo lins$lins
-rwxrwxrwx 1 root root 2010 2011-08-05 11:41 vte_IMX6-SABREAUTO_d/output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_6f.failed -rwxrwxrwx 1 root root 2279 2011-08-05 17:26 vte_IMX6-SABREAUTO_d/output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_0a_01_63.failed -rwxrwxrwx 1 root root 1216 2011-08-12 21:45 vte_IMX6-SABREAUTO_d/output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08122011.failed -rwxrwxrwx 1 root root 4572 2011-08-16 14:13 vte_IMX6-SABREAUTO_d/output/LTP_RUN_ON-IMX6-SABREAUTO_imx6q_SABRA_auto_log_00_04_9f_01_03_63_08162011.failed
b20222@shlx12:/rootfs/wb$ 